<div class="card text-center">
  <form [formGroup]="formValue">
    <div class="card-header">
      <h3>TEACHER DETAIL'S</h3>
    </div>
    <div class="card-body">
      <div class="mb-3 d-flex align-items-center">
        <label class="form-label me-2">Teacher</label>
        <select
          formControlName="teacherId"
          class="form-control p-2"
          style="width: 400px"
          (change)="onTeacherChange($event)"
        >
          <option value="">Select a teacher</option>
          <ng-container *ngFor="let teacher of teach">
            <option [value]="teacher.teacherId">
              {{ teacher.firstName }} {{ teacher.lastName }}
            </option>
          </ng-container>
        </select>
        <div class="ms-3"></div>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="getAllocatedSubject()"
        >
          Save
        </button>
      </div>
    </div>
    <div class="card-footer text-body-secondary">
      <div class="mb-3 d-flex align-items-center">
        <label class="form-label me-2">Subject</label>
        <select
          formControlName="subjectId"
          class="form-control p-2"
          style="width: 400px"
        >
          <option value="">Select a subject</option>
          <ng-container *ngFor="let subject of subj">
            <option [value]="subject.subjectId">
              {{ subject.subjectName }}
            </option>
          </ng-container>
        </select>
        <div class="ms-3"></div>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="postAllocatedSubjects()"
        >
          Allocate
        </button>
      </div>
    </div>
  </form>
  <h3>ALLOCATED SUBJECT'S</h3>
  <table class="table mt-3">
    <thead class="table-dark">
      <tr>
        <th scope="col">Subject</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let allsub of allAllocatedSUb$ | async">
        <td>{{ subjectNameMap.get(allsub?.subjectId) }}</td>
        <td>
          <button
            class="btn btn-danger mx-3"
            (click)="deleteAlloactedSubject(allsub)"
          >
            De-Allocate
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<ng-toast></ng-toast>
